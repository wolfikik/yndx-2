<!--
1. Вся проблема в переменной request. Она используется как глобальная переменная, на момент каждого вывзова функции callback равна request = /populations, это ломает логику работы приложения.
Для правильной работы приложения замыкаем переменную request. (Также можно замкнуть переменную i).
Сейчас наше приложение ассинхронно. Данная ошибка могла возникнуть потому, что скорее всего раньше приложение работало синхронно (не было setTimeout в api функции getData) и его не переделали.
2. Добавлен код, который выводит в консоль количество населения по городу или стране, сделал все просто без обьектов, методов и функций - обычным перебором значений в цикле.
-->
<html>
<head>
    <meta charset="utf-8" />
    <title>Второе задание для ШРИ</title>
    <script src="js/script.js"></script>
    <link rel="stylesheet" href="css/pure-min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="wrapper">
        <h1>Задание 2: работа с API</h1>
        <form class="pure-form">
            <fieldset>
                <legend>Общая численность населения в африканских городах: <span class="num" id="africa"></span></legend>
                <legend>Введите название страны или города</legend>
                <input type="text" id="data" placeholder="Страна или город">
                <button onclick="CSity.getText(); return false;" class="pure-button pure-button-primary">Получить данные</button>
                <br />
                <br />
                <legend class="result-block" id="result-block">Общая численность населения: <span class="num" id="result"></span></legend>
            </fieldset>
        </form>
    </div>
</body>
</html>